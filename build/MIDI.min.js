if("undefined"==typeof MIDI&&(MIDI={}),function(e){"use strict";var t={},n=0,o=function(e){n++;var o=document.body,r=new Audio,i=e.split(";")[0];r.id="audio",r.setAttribute("preload","auto"),r.setAttribute("audiobuffer",!0),r.addEventListener("error",function(){o.removeChild(r),t[i]=!1,n--},!1),r.addEventListener("canplaythrough",function(){o.removeChild(r),t[i]=!0,n--},!1),r.src="data:"+e,o.appendChild(r)};e.audioDetect=function(e){if(navigator.requestMIDIAccess){var r=Function.prototype.toString.call(navigator.requestMIDIAccess).indexOf("[native code]");if(r)t.webmidi=!0;else for(var i=0;navigator.plugins.length>i;i++){var a=navigator.plugins[i];a.name.indexOf("Jazz-Plugin")>=0&&(t.webmidi=!0)}}if("undefined"==typeof Audio)return e({});t.audiotag=!0,(window.AudioContext||window.webkitAudioContext)&&(t.webaudio=!0);var u=new Audio;if(u.canPlayType===void 0)return e(t);var s=u.canPlayType('audio/ogg; codecs="vorbis"');s="probably"===s||"maybe"===s;var c=u.canPlayType("audio/mpeg");if(c="probably"===c||"maybe"===c,!s&&!c)return e(t),void 0;s&&o("audio/ogg;base64,T2dnUwACAAAAAAAAAADqnjMlAAAAAOyyzPIBHgF2b3JiaXMAAAAAAUAfAABAHwAAQB8AAEAfAACZAU9nZ1MAAAAAAAAAAAAA6p4zJQEAAAANJGeqCj3//////////5ADdm9yYmlzLQAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMTAxMTAxIChTY2hhdWZlbnVnZ2V0KQAAAAABBXZvcmJpcw9CQ1YBAAABAAxSFCElGVNKYwiVUlIpBR1jUFtHHWPUOUYhZBBTiEkZpXtPKpVYSsgRUlgpRR1TTFNJlVKWKUUdYxRTSCFT1jFloXMUS4ZJCSVsTa50FkvomWOWMUYdY85aSp1j1jFFHWNSUkmhcxg6ZiVkFDpGxehifDA6laJCKL7H3lLpLYWKW4q91xpT6y2EGEtpwQhhc+211dxKasUYY4wxxsXiUyiC0JBVAAABAABABAFCQ1YBAAoAAMJQDEVRgNCQVQBABgCAABRFcRTHcRxHkiTLAkJDVgEAQAAAAgAAKI7hKJIjSZJkWZZlWZameZaouaov+64u667t6roOhIasBACAAAAYRqF1TCqDEEPKQ4QUY9AzoxBDDEzGHGNONKQMMogzxZAyiFssLqgQBKEhKwKAKAAAwBjEGGIMOeekZFIi55iUTkoDnaPUUcoolRRLjBmlEluJMYLOUeooZZRCjKXFjFKJscRUAABAgAMAQICFUGjIigAgCgCAMAYphZRCjCnmFHOIMeUcgwwxxiBkzinoGJNOSuWck85JiRhjzjEHlXNOSuekctBJyaQTAAAQ4AAAEGAhFBqyIgCIEwAwSJKmWZomipamiaJniqrqiaKqWp5nmp5pqqpnmqpqqqrrmqrqypbnmaZnmqrqmaaqiqbquqaquq6nqrZsuqoum65q267s+rZru77uqapsm6or66bqyrrqyrbuurbtS56nqqKquq5nqq6ruq5uq65r25pqyq6purJtuq4tu7Js664s67pmqq5suqotm64s667s2rYqy7ovuq5uq7Ks+6os+75s67ru2rrwi65r66os674qy74x27bwy7ouHJMnqqqnqq7rmarrqq5r26rr2rqmmq5suq4tm6or26os67Yry7aumaosm64r26bryrIqy77vyrJui67r66Ys67oqy8Lu6roxzLat+6Lr6roqy7qvyrKuu7ru+7JuC7umqrpuyrKvm7Ks+7auC8us27oxuq7vq7It/KosC7+u+8Iy6z5jdF1fV21ZGFbZ9n3d95Vj1nVhWW1b+V1bZ7y+bgy7bvzKrQvLstq2scy6rSyvrxvDLux8W/iVmqratum6um7Ksq/Lui60dd1XRtf1fdW2fV+VZd+3hV9pG8OwjK6r+6os68Jry8ov67qw7MIvLKttK7+r68ow27qw3L6wLL/uC8uq277v6rrStXVluX2fsSu38QsAABhwAAAIMKEMFBqyIgCIEwBAEHIOKQahYgpCCKGkEEIqFWNSMuakZM5JKaWUFEpJrWJMSuaclMwxKaGUlkopqYRSWiqlxBRKaS2l1mJKqcVQSmulpNZKSa2llGJMrcUYMSYlc05K5pyUklJrJZXWMucoZQ5K6iCklEoqraTUYuacpA46Kx2E1EoqMZWUYgupxFZKaq2kFGMrMdXUWo4hpRhLSrGVlFptMdXWWqs1YkxK5pyUzDkqJaXWSiqtZc5J6iC01DkoqaTUYiopxco5SR2ElDLIqJSUWiupxBJSia20FGMpqcXUYq4pxRZDSS2WlFosqcTWYoy1tVRTJ6XFklKMJZUYW6y5ttZqDKXEVkqLsaSUW2sx1xZjjqGkFksrsZWUWmy15dhayzW1VGNKrdYWY40x5ZRrrT2n1mJNMdXaWqy51ZZbzLXnTkprpZQWS0oxttZijTHmHEppraQUWykpxtZara3FXEMpsZXSWiypxNhirLXFVmNqrcYWW62ltVprrb3GVlsurdXcYqw9tZRrrLXmWFNtBQAADDgAAASYUAYKDVkJAEQBAADGMMYYhEYpx5yT0ijlnHNSKucghJBS5hyEEFLKnINQSkuZcxBKSSmUklJqrYVSUmqttQIAAAocAAACbNCUWByg0JCVAEAqAIDBcTRNFFXVdX1fsSxRVFXXlW3jVyxNFFVVdm1b+DVRVFXXtW3bFn5NFFVVdmXZtoWiqrqybduybgvDqKqua9uybeuorqvbuq3bui9UXVmWbVu3dR3XtnXd9nVd+Bmzbeu2buu+8CMMR9/4IeTj+3RCCAAAT3AAACqwYXWEk6KxwEJDVgIAGQAAgDFKGYUYM0gxphhjTDHGmAAAgAEHAIAAE8pAoSErAoAoAADAOeecc84555xzzjnnnHPOOeecc44xxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY0wAwE6EA8BOhIVQaMhKACAcAABACCEpKaWUUkoRU85BSSmllFKqFIOMSkoppZRSpBR1lFJKKaWUIqWgpJJSSimllElJKaWUUkoppYw6SimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaVUSimllFJKKaWUUkoppRQAYPLgAACVYOMMK0lnhaPBhYasBAByAwAAhRiDEEJpraRUUkolVc5BKCWUlEpKKZWUUqqYgxBKKqmlklJKKbXSQSihlFBKKSWUUkooJYQQSgmhlFRCK6mEUkoHoYQSQimhhFRKKSWUzkEoIYUOQkmllNRCSB10VFIpIZVSSiklpZQ6CKGUklJLLZVSWkqpdBJSKamV1FJqqbWSUgmhpFZKSSWl0lpJJbUSSkklpZRSSymFVFJJJYSSUioltZZaSqm11lJIqZWUUkqppdRSSiWlkEpKqZSSUmollZRSaiGVlEpJKaTUSimlpFRCSamlUlpKLbWUSkmptFRSSaWUlEpJKaVSSksppRJKSqmllFpJKYWSUkoplZJSSyW1VEoKJaWUUkmptJRSSymVklIBAEAHDgAAAUZUWoidZlx5BI4oZJiAAgAAQABAgAkgMEBQMApBgDACAQAAAADAAAAfAABHARAR0ZzBAUKCwgJDg8MDAAAAAAAAAAAAAACAT2dnUwAEAAAAAAAAAADqnjMlAgAAADzQPmcBAQA="),c&&o("audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq");var l=(new Date).getTime(),d=window.setInterval(function(){var o=(new Date).getTime(),r=o-l>5e3;(!n||r)&&(window.clearInterval(d),e(t))},1)}}(MIDI),function(e){"use strict";e.GM=function(e){var t=function(e){return e.replace(/[^a-z0-9 ]/gi,"").replace(/[ ]/g,"_").toLowerCase()},n={byName:{},byId:{},byCategory:{}};for(var o in e)for(var r=e[o],i=0,a=r.length;a>i;i++){var u=r[i];if(u){var s=parseInt(u.substr(0,u.indexOf(" ")),10);u=u.replace(s+" ",""),n.byId[--s]=n.byName[t(u)]=n.byCategory[t(o)]={id:t(u),instrument:u,number:s,category:o}}}return n}({Piano:["1 Acoustic Grand Piano","2 Bright Acoustic Piano","3 Electric Grand Piano","4 Honky-tonk Piano","5 Electric Piano 1","6 Electric Piano 2","7 Harpsichord","8 Clavinet"],"Chromatic Percussion":["9 Celesta","10 Glockenspiel","11 Music Box","12 Vibraphone","13 Marimba","14 Xylophone","15 Tubular Bells","16 Dulcimer"],Organ:["17 Drawbar Organ","18 Percussive Organ","19 Rock Organ","20 Church Organ","21 Reed Organ","22 Accordion","23 Harmonica","24 Tango Accordion"],Guitar:["25 Acoustic Guitar (nylon)","26 Acoustic Guitar (steel)","27 Electric Guitar (jazz)","28 Electric Guitar (clean)","29 Electric Guitar (muted)","30 Overdriven Guitar","31 Distortion Guitar","32 Guitar Harmonics"],Bass:["33 Acoustic Bass","34 Electric Bass (finger)","35 Electric Bass (pick)","36 Fretless Bass","37 Slap Bass 1","38 Slap Bass 2","39 Synth Bass 1","40 Synth Bass 2"],Strings:["41 Violin","42 Viola","43 Cello","44 Contrabass","45 Tremolo Strings","46 Pizzicato Strings","47 Orchestral Harp","48 Timpani"],Ensemble:["49 String Ensemble 1","50 String Ensemble 2","51 Synth Strings 1","52 Synth Strings 2","53 Choir Aahs","54 Voice Oohs","55 Synth Choir","56 Orchestra Hit"],Brass:["57 Trumpet","58 Trombone","59 Tuba","60 Muted Trumpet","61 French Horn","62 Brass Section","63 Synth Brass 1","64 Synth Brass 2"],Reed:["65 Soprano Sax","66 Alto Sax","67 Tenor Sax","68 Baritone Sax","69 Oboe","70 English Horn","71 Bassoon","72 Clarinet"],Pipe:["73 Piccolo","74 Flute","75 Recorder","76 Pan Flute","77 Blown Bottle","78 Shakuhachi","79 Whistle","80 Ocarina"],"Synth Lead":["81 Lead 1 (square)","82 Lead 2 (sawtooth)","83 Lead 3 (calliope)","84 Lead 4 (chiff)","85 Lead 5 (charang)","86 Lead 6 (voice)","87 Lead 7 (fifths)","88 Lead 8 (bass + lead)"],"Synth Pad":["89 Pad 1 (new age)","90 Pad 2 (warm)","91 Pad 3 (polysynth)","92 Pad 4 (choir)","93 Pad 5 (bowed)","94 Pad 6 (metallic)","95 Pad 7 (halo)","96 Pad 8 (sweep)"],"Synth Effects":["97 FX 1 (rain)","98 FX 2 (soundtrack)","99 FX 3 (crystal)","100 FX 4 (atmosphere)","101 FX 5 (brightness)","102 FX 6 (goblins)","103 FX 7 (echoes)","104 FX 8 (sci-fi)"],Ethnic:["105 Sitar","106 Banjo","107 Shamisen","108 Koto","109 Kalimba","110 Bagpipe","111 Fiddle","112 Shanai"],Percussive:["113 Tinkle Bell","114 Agogo","115 Steel Drums","116 Woodblock","117 Taiko Drum","118 Melodic Tom","119 Synth Drum"],"Sound effects":["120 Reverse Cymbal","121 Guitar Fret Noise","122 Breath Noise","123 Seashore","124 Bird Tweet","125 Telephone Ring","126 Helicopter","127 Applause","128 Gunshot"]}),e.getInstrument=function(t){var n=e.channels[t];return n&&n.instrument},e.setInstrument=function(t,n,o){var r=e.channels[t];return o?setTimeout(function(){r.instrument=n},o):(r.instrument=n,void 0)},e.getMono=function(t){var n=e.channels[t];return n&&n.mono},e.setMono=function(t,n,o){var r=e.channels[t];return o?setTimeout(function(){r.mono=n},o):(r.mono=n,void 0)},e.getOmni=function(t){var n=e.channels[t];return n&&n.omni},e.setOmni=function(t,n){var o=e.channels[t];return delay?setTimeout(function(){o.omni=n},delay):(o.omni=n,void 0)},e.getSolo=function(t){var n=e.channels[t];return n&&n.solo},e.setSolo=function(t,n){var o=e.channels[t];return delay?setTimeout(function(){o.solo=n},delay):(o.solo=n,void 0)},e.channels=function(){for(var e={},t=0;16>t;t++)e[t]={instrument:t,pitchBend:0,mute:!1,mono:!1,omni:!1,solo:!1};return e}(),e.keyToNote={},e.noteToKey={},function(){for(var t=21,n=108,o=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],r=t;n>=r;r++){var i=(r-12)/12>>0,a=o[r%12]+i;e.keyToNote[a]=r,e.noteToKey[r]=a}}()}(MIDI),"undefined"==typeof MIDI&&(MIDI={}),MIDI.Soundfont=MIDI.Soundfont||{},MIDI.Player=MIDI.Player||{},function(e){"use strict";e.DEBUG=!0,e.USE_XHR=!0,e.soundfontUrl="./soundfont/",e.loadPlugin=function(n){"function"==typeof n&&(n={onsuccess:n}),e.soundfontUrl=n.soundfontUrl||e.soundfontUrl,e.audioDetect(function(o){var r=window.location.hash,i="";if(o[n.api]?i=n.api:o[r.substr(1)]?i=r.substr(1):o.webmidi?i="webmidi":window.AudioContext?i="webaudio":window.Audio&&(i="audiotag"),t[i]){if(n.targetFormat)var a=n.targetFormat;else var a=o["audio/ogg"]?"ogg":"mp3";e.__api=i,e.__audioFormat=a,e.supports=o,e.loadResource(n)}})},e.loadResource=function(n){var o=n.instruments||n.instrument||"acoustic_grand_piano";"object"!=typeof o&&(o=o||0===o?[o]:[]);for(var r=0;o.length>r;r++){var i=o[r];i===+i&&e.GM.byId[i]&&(o[r]=e.GM.byId[i].id)}n.format=e.__audioFormat,n.instruments=o,t[e.__api](n)};var t={webmidi:function(t){e.WebMIDI.connect(t)},audiotag:function(e){n(e,"AudioTag")},webaudio:function(e){n(e,"WebAudio")}},n=function(t,n){for(var r=t.format,i=t.instruments,a=t.onprogress,u=t.onerror,s=i.length,c=s,l=function(){--c||(a&&a("load",1),e[n].connect(t))},d=0;s>d;d++){var f=i[d];MIDI.Soundfont[f]?l():o(i[d],r,function(e,t){var n=t/s,o=(s-c)/s;a&&a("load",n+o,f)},function(){l()},u)}},o=function(t,n,o,r,i){var a=e.soundfontUrl+t+"-"+n+".js";e.USE_XHR?e.util.request({url:a,format:"text",onerror:i,onprogress:o,onsuccess:function(e,t){var n=document.createElement("script");n.language="javascript",n.type="text/javascript",n.text=t,document.body.appendChild(n),r()}}):dom.loadScript.add({url:a,verify:'MIDI.Soundfont["'+t+'"]',onerror:i,onsuccess:function(){r()}})};e.setDefaultPlugin=function(t){for(var n in t)e[n]=t[n]}}(MIDI),function(e){"use strict";window.Audio&&function(){for(var t=e.AudioTag={api:"audiotag"},n={},o=127,r=-1,i=[],a=[],u={},s=0;12>s;s++)i[s]=new Audio;var c=function(t,n){if(e.channels[t]){var s=e.channels[t].instrument,c=e.GM.byId[s].id,n=u[n];if(n){var l=c+""+n.id,d=(r+1)%i.length,f=i[d];if(a[d]=l,!e.Soundfont[c])return e.DEBUG&&console.log("404",c),void 0;f.src=e.Soundfont[c][n.id],f.volume=o/127,f.play(),r=d}}},l=function(t,n){if(e.channels[t]){var o=e.channels[t].instrument,s=e.GM.byId[o].id,n=u[n];if(n)for(var c=s+""+n.id,l=0,d=i.length;d>l;l++){var f=(l+r+1)%d,A=a[f];if(A&&A==c)return i[f].pause(),a[f]=null,void 0}}};t.audioBuffers=i,t.send=function(){},t.setController=function(){},t.setVolume=function(e,t){o=t},t.programChange=function(t,n){e.channels[t].instrument=n},t.pitchBend=function(){},t.noteOn=function(e,t,o,r){var i=n[t];if(u[i])return r?setTimeout(function(){c(e,i)},1e3*r):(c(e,i),void 0)},t.noteOff=function(){},t.chordOn=function(e,t,o,r){for(var i=0;t.length>i;i++){var a=t[i],s=n[a];if(u[s]){if(r)return setTimeout(function(){c(e,s)},1e3*r);c(e,s)}}},t.chordOff=function(e,t,o){for(var r=0;t.length>r;r++){var i=t[r],a=n[i];if(u[a]){if(o)return setTimeout(function(){l(e,a)},1e3*o);l(e,a)}}},t.stopAllNotes=function(){for(var e=0,t=i.length;t>e;e++)i[e].pause()},t.connect=function(o){e.setDefaultPlugin(t);for(var r in e.keyToNote)n[e.keyToNote[r]]=r,u[r]={id:r};o.onsuccess&&o.onsuccess()}}()}(MIDI),function(e){"use strict";window.AudioContext&&function(){function t(e,t,n){if(r){var i=new Audio;i.src=e,i.controls=!1,i.autoplay=!1,i.preload=!1,i.addEventListener("canplay",function(){t&&t(i)}),i.addEventListener("error",function(e){n&&n(e)}),document.body.appendChild(i)}else if(0===e.indexOf("data:audio")){var a=e.split(",")[1],u=Base64Binary.decodeArrayBuffer(a);o.decodeAudioData(u,t,n)}else{var s=new XMLHttpRequest;s.open("GET",e,!0),s.responseType="arraybuffer",s.onload=function(){o.decodeAudioData(s.response,t,n)},s.send()}}function n(){return new(window.AudioContext||window.webkitAudioContext)}var o,r=!1,i=e.WebAudio={api:"webaudio"},a={},u={},s=127,c={};i.audioBuffers=c,i.send=function(){},i.setController=function(){},i.setVolume=function(e,t,n){n?setTimeout(function(){s=t},1e3*n):s=t},i.programChange=function(t,n){var o=e.channels[t];o.instrument=n},i.pitchBend=function(t,n){var o=e.channels[t];o.pitchBend=n},i.noteOn=function(t,n,i,l){l=l||0;var d=e.channels[t],f=d.instrument,A=f+""+n,p=c[A];if(p){if(o.currentTime>l&&(l+=o.currentTime),r)var m=o.createMediaElementSource(p);else{var m=o.createBufferSource();m.buffer=p}if(u){var h=m;for(var q in u)h.connect(u[q].input),h=u[q]}var v=2*i/127*(s/127)-1;if(m.connect(o.destination),m.playbackRate.value=1,m.gainNode=o.createGain(),m.gainNode.connect(o.destination),m.gainNode.gain.value=Math.min(1,Math.max(-1,v)),m.connect(m.gainNode),r){if(l)return setTimeout(function(){p.currentTime=0,p.play()},1e3*l);p.currentTime=0,p.play()}else m.start(l||0);return a[t+""+n]=m,m}},i.noteOff=function(t,n,i){i=i||0;var u=e.channels[t],s=u.instrument,l=s+""+n,d=c[l];if(d){o.currentTime>i&&(i+=o.currentTime);var f=a[t+""+n];if(f){if(f.gainNode){var A=f.gainNode.gain;A.linearRampToValueAtTime(A.value,i),A.linearRampToValueAtTime(-1,i+.3)}return r?i?setTimeout(function(){d.pause()},1e3*i):d.pause():f.noteOff?f.noteOff(i+.5):f.stop(i+.5),delete a[t+""+n],f}}},i.chordOn=function(e,t,n,o){for(var r,a={},u=0,s=t.length;s>u;u++)a[r=t[u]]=i.noteOn(e,r,n,o);return a},i.chordOff=function(e,t,n){for(var o,r={},a=0,u=t.length;u>a;a++)r[o=t[a]]=i.noteOff(e,o,n);return r},i.stopAllNotes=function(){for(var e in a){var t=0;o.currentTime>t&&(t+=o.currentTime);var n=a[e];n.gain.linearRampToValueAtTime(1,t),n.gain.linearRampToValueAtTime(0,t+.3),n.noteOff?n.noteOff(t+.3):n.stop(t+.3),delete a[e]}},i.setEffects=function(e){if(!o.tunajs)return console.log("Effects module not installed.");for(var t=0;e.length>t;t++){var n=e[t],r=new o.tunajs[n.type](n);r.connect(o.destination),u[n.type]=r}},i.connect=function(t){e.setDefaultPlugin(i),i.setContext(o||n(),t.onsuccess)},i.getContext=function(){return o},i.setContext=function(n,r){o=n,"undefined"==typeof Tuna||o.tunajs||(o.tunajs=new Tuna(o));var i=[],a=e.keyToNote;for(var u in a)i.push(u);var s=function(){for(var e in d)if(d[e])return;r&&(r(),r=null)},l=function(n,o,r,i){var a=n[i];a&&(d[o]++,t(a,function(t){t.id=i;var r=e.keyToNote[i];c[o+""+r]=t,0===--d[o]&&(n.isLoaded=!0,s(f))},function(){}))},d={};for(var f in e.Soundfont){var A=e.Soundfont[f];if(!A.isLoaded){var p=e.GM.byName[f],m=p.number;d[m]=0;for(var h=0;i.length>h;h++){var u=i[h];l(A,m,h,u)}}}setTimeout(s,1)}}()}(MIDI),function(e){"use strict";var t=null,n=null,o=e.WebMIDI={api:"webmidi"};o.send=function(e,t){n.send(e,1e3*t)},o.setController=function(e,t,o,r){n.send([e,t,o],1e3*r)},o.setVolume=function(e,t,o){n.send([176+e,7,t],1e3*o)},o.programChange=function(e,t,o){n.send([192+e,t],1e3*o)},o.pitchBend=function(e,t,o){n.send([224+e,t],1e3*o)},o.noteOn=function(e,t,o,r){n.send([144+e,t,o],1e3*r)},o.noteOff=function(e,t,o){n.send([128+e,t,0],1e3*o)},o.chordOn=function(e,t,o,r){for(var i=0;t.length>i;i++){var a=t[i];n.send([144+e,a,o],1e3*r)}},o.chordOff=function(e,t,o){for(var r=0;t.length>r;r++){var i=t[r];n.send([128+e,i,0],1e3*o)}},o.stopAllNotes=function(){n.cancel();for(var e=0;16>e;e++)n.send([176+e,123,0])},o.connect=function(r){e.setDefaultPlugin(o);var i=function(){if(window.AudioContext)r.api="webaudio";else{if(!window.Audio)return;r.api="audiotag"}e.loadPlugin(r)};navigator.requestMIDIAccess().then(function(e){t=e;var o=t.outputs;n="function"==typeof o?o()[0]:o[0],void 0===n?i():r.onsuccess&&r.onsuccess()},i)}}(MIDI),"undefined"==typeof MIDI&&(MIDI={}),function(e){var t=e.util||(e.util={});if(t.request=function(t,o,r,i){"use strict";"string"==typeof t&&(t={url:t});var a=t.data,u=t.url,s=t.method||(t.data?"POST":"GET"),c=t.format,l=t.headers,d=t.responseType,f=t.withCredentials||!1,o=o||t.onsuccess,r=r||t.onerror,i=i||t.onprogress;if(n!==void 0&&e.loc.isLocalUrl(u))return n.readFile(u,"utf8",function(e,t){e?r&&r(e):o&&o({responseText:t})}),void 0;var A=new XMLHttpRequest;if(A.open(s,u,!0),l)for(var p in l)A.setRequestHeader(p,l[p]);else a&&A.setRequestHeader("Content-type","application/x-www-form-urlencoded");return"binary"===c&&A.overrideMimeType&&A.overrideMimeType("text/plain; charset=x-user-defined"),d&&(A.responseType=d),f&&(A.withCredentials="true"),r&&"onerror"in A&&(A.onerror=r),i&&A.upload&&"onprogress"in A.upload&&(a?A.upload.onprogress=function(e){i.call(A,e,event.loaded/event.total)}:A.addEventListener("progress",function(e){var t=0;if(e.lengthComputable)t=e.total;else if(A.totalBytes)t=A.totalBytes;else{var n=parseInt(A.getResponseHeader("Content-Length-Raw"));if(!isFinite(n))return;A.totalBytes=t=n}i.call(A,e,e.loaded/t)})),A.onreadystatechange=function(t){if(4===A.readyState)if(200===A.status||304===A.status||308===A.status||0===A.status&&e.client.cordova){if(o){var n;if("xml"===c)n=t.target.responseXML;else if("text"===c)n=t.target.responseText;else if("json"===c)try{n=JSON.parse(t.target.response)}catch(i){r&&r.call(A,t)}o.call(A,t,n)}}else r&&r.call(A,t)},A.send(a),A},"undefined"!=typeof module&&module.exports){var n=require("fs");XMLHttpRequest=require("xmlhttprequest").XMLHttpRequest,module.exports=e.util.request}}(MIDI),dom===void 0)var dom={};(function(){"use strict";dom.loadScript=function(){return this.loaded={},this.loading={},this},dom.loadScript.prototype.add=function(t){var n=this;"string"==typeof t&&(t={url:t});var o=t.urls;o===void 0&&(o=[{url:t.url,verify:t.verify}]);var r=document.getElementsByTagName("head")[0],i=function(t,o){n.loaded[t.url]||o&&e(o)===!1||(n.loaded[t.url]=!0,n.loading[t.url]&&n.loading[t.url](),delete n.loading[t.url],t.onsuccess&&t.onsuccess(),f!==void 0&&f())},a=!1,u=[],s=function(e){if("string"==typeof e&&(e={url:e,verify:t.verify}),/([\w\d.\[\]\'\"])$/.test(e.verify)){var o=e.test=e.verify;if("object"==typeof o)for(var s=0;o.length>s;s++)u.push(o[s]);else u.push(o)}if(!n.loaded[e.url]){var l=document.createElement("script");l.onreadystatechange=function(){("loaded"===this.readyState||"complete"===this.readyState)&&i(e)},l.onload=function(){i(e)},l.onerror=function(){if(a=!0,delete n.loading[e.url],"object"==typeof e.test)for(var t in e.test)c(e.test[t]);else c(e.test)},l.setAttribute("type","text/javascript"),l.setAttribute("src",e.url),r.appendChild(l),n.loading[e.url]=function(){}}},c=function(e){for(var t=[],n=0;u.length>n;n++)u[n]!==e&&t.push(u[n]);u=t},l=function(n){if(n)i(n,n.test);else for(var r=0;o.length>r;r++)i(o[r],o[r].test);for(var s=!0,r=0;u.length>r;r++)e(u[r])===!1&&(s=!1);!t.strictOrder&&s?a?t.error&&t.error():t.onsuccess&&t.onsuccess():setTimeout(function(){l(n)},10)};if(t.strictOrder){var d=-1,f=function(){if(d++,o[d]){var e=o[d],r=e.url;n.loading[r]?n.loading[r]=function(){e.onsuccess&&e.onsuccess(),f()}:n.loaded[r]?f():(s(e),l(e))}else a?t.error&&t.error():t.onsuccess&&t.onsuccess()};f()}else for(var d=0;o.length>d;d++)s(o[d]),l(o[d])},dom.loadScript=new dom.loadScript;var e=function(e,t){try{e=e.split('"').join("").split("'").join("").split("]").join("").split("[").join(".");for(var n=e.split("."),o=n.length,r=t||window,i=0;o>i;i++){var a=n[i];if(null==r[a])return!1;r=r[a]}return!0}catch(u){return!1}}})(),"undefined"!=typeof module&&module.exports&&(module.exports=dom.loadScript),function(){function e(e){this.message=e}var t="undefined"!=typeof exports?exports:this,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.prototype=Error(),e.prototype.name="InvalidCharacterError",t.btoa||(t.btoa=function(t){for(var o,r,i=0,a=n,u="";t.charAt(0|i)||(a="=",i%1);u+=a.charAt(63&o>>8-8*(i%1))){if(r=t.charCodeAt(i+=.75),r>255)throw new e("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");o=o<<8|r}return u}),t.atob||(t.atob=function(t){if(t=t.replace(/=+$/,""),1==t.length%4)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,r,i=0,a=0,u="";r=t.charAt(a++);~r&&(o=i%4?64*o+r:r,i++%4)?u+=String.fromCharCode(255&o>>(6&-2*i)):0)r=n.indexOf(r);return u})}();var Base64Binary={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",decodeArrayBuffer:function(e){var t=Math.ceil(3*e.length/4),n=new ArrayBuffer(t);return this.decode(e,n),n},decode:function(e,t){var n=this._keyStr.indexOf(e.charAt(e.length-1)),o=this._keyStr.indexOf(e.charAt(e.length-1)),r=Math.ceil(3*e.length/4);64==n&&r--,64==o&&r--;var i,a,u,s,c,l,d,f,A=0,p=0;for(i=t?new Uint8Array(t):new Uint8Array(r),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),A=0;r>A;A+=3)c=this._keyStr.indexOf(e.charAt(p++)),l=this._keyStr.indexOf(e.charAt(p++)),d=this._keyStr.indexOf(e.charAt(p++)),f=this._keyStr.indexOf(e.charAt(p++)),a=c<<2|l>>4,u=(15&l)<<4|d>>2,s=(3&d)<<6|f,i[A]=a,64!=d&&(i[A+1]=u),64!=f&&(i[A+2]=s);return i}};window.AudioContext=window.AudioContext||window.webkitAudioContext||null,window.OfflineAudioContext=window.OfflineAudioContext||window.webkitOfflineAudioContext||null,function(e){var t,n,o,r=function(e){return"[object Function]"===Object.prototype.toString.call(e)||"[object AudioContextConstructor]"===Object.prototype.toString.call(e)},i=[["createGainNode","createGain"],["createDelayNode","createDelay"],["createJavaScriptNode","createScriptProcessor"]];r(e)&&(n=new e,n.destination&&n.sampleRate&&(t=e.prototype,o=Object.getPrototypeOf(n.createBufferSource()),r(o.start)||r(o.noteOn)&&(o.start=function(e,t,n){switch(arguments.length){case 0:throw Error("Not enough arguments.");case 1:this.noteOn(e);break;case 2:if(!this.buffer)throw Error("Missing AudioBuffer");this.noteGrainOn(e,t,this.buffer.duration-t);break;case 3:this.noteGrainOn(e,t,n)}}),r(o.noteOn)||(o.noteOn=o.start),r(o.noteGrainOn)||(o.noteGrainOn=o.start),r(o.stop)||(o.stop=o.noteOff),r(o.noteOff)||(o.noteOff=o.stop),i.forEach(function(e){for(var t,n;e.length;)t=e.pop(),r(this[t])?this[e.pop()]=this[t]:(n=e.pop(),this[t]=this[n])},t)))}(window.AudioContext);